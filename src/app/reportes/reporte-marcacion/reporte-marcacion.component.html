<div class="container-fluid">
    <div class="row g-1 mt-2 justify-content-md-center mb-4">
        <div class="col-4">
            <div class="dx-field-label">Fecha Inicial</div>
            <div class="dx-field-value">
                <dx-date-box type="date" [value]="now" [(ngModel)]="fechaInicial" name="fechaInicial"
                    [displayFormat]="'dd/MM/yyyy'" [inputAttr]="{ 'aria-label': 'Date' }">
                </dx-date-box>
            </div>
        </div>
        <div class="col-4">
            <div class="dx-field-label">Fecha Final</div>
            <div class="dx-field-value">
                <dx-date-box type="date" [value]="now" [(ngModel)]="fechaFinal" name="fechaFinal"
                    [displayFormat]="'dd/MM/yyyy'" [inputAttr]="{ 'aria-label': 'Date' }">
                </dx-date-box>
            </div>
        </div>
        <div class="col-4 pt-2 text-end">
            <dx-button text="Buscar" stylingMode="contained" type="default" [width]="120"
                icon="fa-solid fa-magnifying-glass" (onClick)="buscar()">
            </dx-button>
        </div>
    </div>
    <div class="row g-1 mt-2 justify-content-md-center mb-4">
        <div class="col-12">
            <h3>Reporte de marcaciones</h3>
            <div id="data-grid">
                <dx-data-grid id="gridContainer" [dataSource]="marcaciones" [showBorders]="true"
                    [showColumnLines]="true" [showRowLines]="true" [allowColumnResizing]="true"
                    [columnAutoWidth]="true">
                    <dxo-paging [pageSize]="15"></dxo-paging>
                    <dxo-pager [visible]="true" [showPageSizeSelector]="true"
                        [allowedPageSizes]="[15, 25, 50, 100]"></dxo-pager>
                    <dxo-search-panel [visible]="true"></dxo-search-panel>

                    <dxi-column dataField="personal" caption="Personal" alignment="left" [width]="250"></dxi-column>
                    <dxi-column dataField="fecha" caption="Fecha y Hora" dataType="datetime" 
                        format="dd/MM/yyyy HH:mm:ss" [width]="180"></dxi-column>
                    <dxi-column dataField="fechaJornal" caption="Fecha Jornal" dataType="date"
                        format="dd/MM/yyyy" [width]="130"></dxi-column>
                    <dxi-column dataField="tipoEvento" caption="Tipo de Evento" [width]="140" alignment="center"></dxi-column>
                    <dxi-column dataField="esTardanza" caption="¿Tardanza?" [width]="120" alignment="center"></dxi-column>
                    <dxi-column dataField="diferenciaMinutos" caption="Diferencia (min)" [width]="140" alignment="center"></dxi-column>
                    <dxi-column dataField="latitud" caption="Latitud" [width]="110" alignment="center"></dxi-column>
                    <dxi-column dataField="longitud" caption="Longitud" [width]="110" alignment="center"></dxi-column>
                    <dxi-column dataField="politica" caption="Política" [width]="130"></dxi-column>
                    <dxi-column dataField="horaEvento" caption="Hora Programada" [width]="150" alignment="center"></dxi-column>
                </dx-data-grid>

                <div id="messageBox"
                    style="display: none; background-color: #f8d7da; color: #721c24; padding: 10px; border-radius: 5px; margin-top: 10px; font-weight: bold;">
                </div>

                <block-ui></block-ui>
            </div>
        </div>
    </div>
</div>